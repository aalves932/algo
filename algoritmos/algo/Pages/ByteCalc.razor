@page "/byte_calc"

<h3 class="text-3xl font-bold">Calculadora de Bytes</h3>

<div class="max-w-xl rounded-lg  mt-4 pt-3 pb-5 bg-gradient-calc">

    <h5 class="ml-5 mt-3 text-xl">Conversão de medidas informáticas</h5>

    <div class="max-w-lg grid grid-cols-3 gap-3 mt-3">  @* Container dos inputs **@

        <div class="ml-3 text-center">     @* Input do valor **@
            <label class="form-label">Valor</label>
            <input @bind="inputValue" type="number" class="form-control input-lg text-center">
        </div>

        <div class="text-center">          @* Input da unidade **@
            <label class="form-label">Unidade</label>
            <select @bind="inputUnit" class="form-select" aria-label="Default select example">
                <option selected>Escolha a unidade</option>
                <option value="1">bits</option>
                <option value="2">bytes</option>
                <option value="3">kilobytes</option>
                <option value="4">megabytes</option>
                <option value="5">gigabytes</option>
            </select>
        </div>

        <div class=" text-center">         @* Botaão de ação **@
            <button class="mt-4 border-2 hover:bg-slate-100 hover:text-slate-900 py-2 px-4 rounded-lg" @onclick="calculate">Calcular</button>
        </div>

    </div>


    @if (bits != 0)
    {

        <div class="col-12 col-sm-6 col-md-6">
            <p class="mt-4">Resultado</p>
            <p class="mt-4 p-0 m-0">@inputValue bits = @bits bits</p>
            <p class="mt-4 p-0 m-0">@inputValue bytes = @bytes bytes</p>
            <p class="mt-4 p-0 m-0">@inputValue kBytes= @kilobytes kilobytes</p>
            <p class="mt-4 p-0 m-0">@inputValue Mbytes = @megabytes megabytes</p>
            <p class="mt-4 p-0 m-0">@inputValue Gbytes= @gigabytes gigabytes</p>
            <p class="mt-4 p-0 m-0">@inputValue Terabytes= @terabytes terabytes</p>
        </div>
    }




</div>

<div class="container-fluid mt-4 m-auto w-auto">
    <h5>Quantos megabytes (MB) é um gigabyte (GB)? E um terabyte (TB)?</h5>
    A unidade de conversão da calculadora de Bytes baseia-se nas tabelas oficiais de conversão de dados. Isto torna
    muito fácil de passar dados de megabytes a gigabytes, ou kilobytes a terabytes.

    <div class="mt-4">
        <table class="table table-responsive">
            <tbody>
                <tr>
                    <td><b>Nome</b></td>
                    <td><b>Símbolo</b></td>
                    <td colspan="5"><strong>Equivalência</strong></td>
                </tr>
                <tr>
                    <td>bit</td>
                    <td>b</td>
                    <td>1</td>
                    <td>bit</td>
                    <td>=</td>
                    <td colspan="2">1 bit</td>
                </tr>
                <tr>
                    <td>byte</td>
                    <td>B</td>
                    <td>1</td>
                    <td>B</td>
                    <td>=</td>
                    <td colspan="2">8 bit</td>
                </tr>
                <tr>
                    <td>kilobit</td>
                    <td>kbit / kb</td>
                    <td>1</td>
                    <td>kBit</td>
                    <td>=</td>
                    <td colspan="2">1000 bit</td>
                </tr>
                <tr>
                    <td>Kibibit</td>
                    <td>KiBit</td>
                    <td>1</td>
                    <td>KiBit</td>
                    <td>=</td>
                    <td colspan="2">1024 bit</td>
                </tr>
                <tr>
                    <td>kilobyte</td>
                    <td>kB</td>
                    <td>1</td>
                    <td>kB</td>
                    <td>=</td>
                    <td colspan="2">1000 Byte</td>
                </tr>
                <tr>
                    <td>kibibyte</td>
                    <td>KiB</td>
                    <td>1</td>
                    <td>KiB</td>
                    <td>=</td>
                    <td colspan="2">1024 Byte</td>
                </tr>
                <tr>
                    <td>megabit</td>
                    <td>MBit / Mb</td>
                    <td>1</td>
                    <td>MBit</td>
                    <td>=</td>
                    <td colspan="2">1000 kBit</td>
                </tr>
                <tr>
                    <td>mebibit</td>
                    <td>MiBit / Mib</td>
                    <td>1</td>
                    <td>Mib</td>
                    <td>=</td>
                    <td colspan="2">1024 KiBit</td>
                </tr>
                <tr>
                    <td>megabyte</td>
                    <td>MB</td>
                    <td>1</td>
                    <td>MB</td>
                    <td>=</td>
                    <td colspan="2">1000 kB</td>
                </tr>
                <tr>
                    <td>Mebibyte</td>
                    <td>MiBit / MiB</td>
                    <td>1</td>
                    <td>MiB</td>
                    <td>=</td>
                    <td>1024 KiB</td>
                </tr>
                <tr>
                    <td>gigabit</td>
                    <td>GBit /<label>Gb</label></td>
                    <td>1</td>
                    <td>GBit</td>
                    <td>=</td>
                    <td>1000 MBit</td>
                </tr>
                <tr>
                    <td>gibibit</td>
                    <td>GiBit / Gib</td>
                    <td>1</td>
                    <td>Gib</td>
                    <td>=</td>
                    <td>1024 MiBit</td>
                </tr>
                <tr>
                    <td>gigabyte</td>
                    <td>GB</td>
                    <td>1</td>
                    <td>GB</td>
                    <td>=</td>
                    <td>1000 MB</td>
                </tr>
                <tr>
                    <td>gibibyte</td>
                    <td>GiB</td>
                    <td>1</td>
                    <td>GiB</td>
                    <td>=</td>
                    <td>1024 MiB</td>
                </tr>
                <tr>
                    <td>terabyte</td>
                    <td>TB</td>
                    <td>1</td>
                    <td>TB</td>
                    <td>=</td>
                    <td>1000 GB</td>
                </tr>
                <tr>
                    <td>tebibyte</td>
                    <td>TiB</td>
                    <td>1</td>
                    <td>TiB</td>
                    <td>=</td>
                    <td>1024 GiB</td>
                </tr>
                <tr>
                    <td>petabyte</td>
                    <td>PB</td>
                    <td>1</td>
                    <td>PB</td>
                    <td>=</td>
                    <td>1000 TB</td>
                </tr>
                <tr>
                    <td>pebibyte</td>
                    <td>PiB</td>
                    <td>1</td>
                    <td>PiB</td>
                    <td>=</td>
                    <td>1024 TiB</td>
                </tr>
                <tr>
                    <td>exabyte</td>
                    <td>EB</td>
                    <td>1</td>
                    <td>EB</td>
                    <td>=</td>
                    <td>1000 PB</td>
                </tr>
                <tr>
                    <td>exbibyte</td>
                    <td>EiB</td>
                    <td>1</td>
                    <td>EiB</td>
                    <td>=</td>
                    <td>1024 PiB</td>
                </tr>
                <tr>
                    <td>zettabyte</td>
                    <td>ZB</td>
                    <td>1</td>
                    <td>ZB</td>
                    <td>=</td>
                    <td>1000 EB</td>
                </tr>
                <tr>
                    <td>zebibyte</td>
                    <td>ZiB</td>
                    <td>1</td>
                    <td>ZiB</td>
                    <td>=</td>
                    <td>1024 EiB</td>
                </tr>
                <tr>
                    <td>yottabyte</td>
                    <td>YB</td>
                    <td>1</td>
                    <td>YB</td>
                    <td>=</td>
                    <td>1000 ZB</td>
                </tr>
                <tr>
                    <td>yobibyte</td>
                    <td>YiB</td>
                    <td>1</td>
                    <td>YiB</td>
                    <td>=</td>
                    <td>1024 ZiB</td>
                </tr>
            </tbody>
        </table>
    </div>
</div>


@code {
    public double inputValue = 0,
    bits = 0,
    bytes = 0,
    kilobytes = 0,
    megabytes = 0,
    gigabytes = 0,
    terabytes = 0;
    public int inputUnit = 0;

    private void calculate()
    {
        ConversorDeUnidadeDeArmazenamento conversor = new ConversorDeUnidadeDeArmazenamento(inputValue, inputUnit);
        bits = conversor.ParaBits();
        bytes = conversor.ParaBytes();
        kilobytes = conversor.ParaKilobytes();
        megabytes = conversor.ParaMegabytes();
        gigabytes = conversor.ParaGigabytes();
        terabytes = conversor.ParaTerabytes();
    }

    public class ConversorDeUnidadeDeArmazenamento
    {
        private double valorInicial;
        private int unidadeInicial;

        public ConversorDeUnidadeDeArmazenamento(double valor, int unidade)
        {
            valorInicial = valor;
            unidadeInicial = unidade;
        }

        private double ConverterParaBits()
        {
            switch (unidadeInicial)
            {
                case 1: // Bits
                    return valorInicial;
                case 2: // Bytes
                    return valorInicial * 8; // 1 byte = 8 bits
                case 3: // Kilobytes
                    return valorInicial * 8 * 1024; // 1 KB = 8 * 1024 bits
                case 4: // Megabytes
                    return valorInicial * 8 * 1024 * 1024; // 1 MB = 8 * 1024 * 1024 bits
                case 5: // Gigabytes
                    return valorInicial * 8 * 1024 * 1024 * 1024; // 1 GB = 8 * 1024 * 1024 * 1024 bits
                default:
                    throw new ArgumentException("Unidade de entrada inválida.");
            }
        }

        public double ParaBits()
        {
            return ConverterParaBits();
        }

        public double ParaBytes()
        {
            return ConverterParaBits() / 8;
        }

        public double ParaKilobytes()
        {
            return ConverterParaBits() / 8 / 1024;
        }

        public double ParaMegabytes()
        {
            return ConverterParaBits() / 8 / 1024 / 1024;
        }

        public double ParaGigabytes()
        {
            return ConverterParaBits() / 8 / 1024 / 1024 / 1024;
        }

        public double ParaTerabytes()
        {
            return ConverterParaBits() / 8 / 1024 / 1024 / 1024 / 1024;
        }
    }

}
